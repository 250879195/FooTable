(function(t,e,undefined){function a(){var e=this;e.name="Footable Sortable",e.init=function(a){a.options.sort===!0&&t(a.table).bind({footable_initialized:function(o){var i,n,r=a.options.classes.sort,l=t(o.ft.table),s=l.find("> tbody");if(l.data("sort")!==!1){l.find("> thead > tr:last-child > th, > thead > tr:last-child > td").each(function(){n=t(this),i=o.ft.columns[n.index()],i.sort.ignore!==!0&&(n.addClass(r.sortable),t("<span />").addClass(r.indicator).appendTo(n))}),l.find("> thead > tr:last-child > th."+r.sortable+", > thead > tr:last-child > td."+r.sortable).click(function(a){if(n=t(this),i=o.ft.columns[n.index()],i.sort.ignore===!0)return!0;a.preventDefault(),l.find("> thead > tr:last-child > th, > thead > tr:last-child > td").not(n).removeClass(r.sorted+" "+r.descending);var d=!0,f=!0;n.hasClass(r.sorted)?(d=!1,f=!1):n.hasClass(r.descending)&&(d=!1),f?n.removeClass(r.descending).addClass(r.sorted):n.removeClass(r.sorted).addClass(r.descending);var u=o.ft.raise("footable_sorting",{column:i,direction:f?"ASC":"DESC"});return u&&u.result===!1?undefined:(d?e.sort(o.ft,s,i):e.reverse(o.ft,s),o.ft.bindToggleSelectors(),o.ft.raise("footable_sorted",{column:i,ascending:f}),!1)});var d=!1;for(var f in o.ft.columns){if(i=o.ft.columns[f],i.sort.initial){e.sort(o.ft,s,i),d=!0,n=l.find("> thead > tr:last-child > th:eq("+f+"), > thead > tr:last-child > td:eq("+f+")"),"descending"===i.sort.initial?(e.reverse(o.ft,s),n.addClass(r.descending)):n.addClass(r.sorted);break}i.sort.ignore!==!0}d&&o.ft.bindToggleSelectors()}},footable_column_data:function(e){var a=t(e.column.th);e.column.data.sort=e.column.data.sort||{},e.column.data.sort.initial=a.data("sort-initial")||!1,e.column.data.sort.ignore=a.data("sort-ignore")||!1,e.column.data.sort.selector=a.data("sort-selector")||null;var o=a.data("sort-match")||0;o>=e.column.data.matches.length&&(o=0),e.column.data.sort.match=e.column.data.matches[o]}})},e.rows=function(e,a,o){var i=[];return a.find("> tr").each(function(){var a=t(this),n=null;if(a.hasClass("footable-row-detail"))return!0;a.next().hasClass("footable-row-detail")&&(n=a.next().get(0));var r={row:a,detail:n};return o!==undefined&&(r.value=e.parse(this.cells[o.sort.match],o)),i.push(r),!0}).detach(),i},e.sort=function(t,a,o){var i=e.rows(t,a,o),n=t.options.sorters[o.type]||t.options.sorters.alpha;i.sort(function(t,e){return n(t.value,e.value)});for(var r=0;i.length>r;r++)a.append(i[r].row),null!==i[r].detail&&a.append(i[r].detail)},e.reverse=function(t,a){for(var o=e.rows(t,a),i=o.length-1;i>=0;i--)a.append(o[i].row),null!==o[i].detail&&a.append(o[i].detail)}}if(e.footable===undefined||null===e.footable)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var o={sort:!0,sorters:{alpha:function(t,e){return t===e?0:e>t?-1:1},numeric:function(t,e){return t-e}},parsers:{numeric:function(e){var a=t(e).data("value")||t(e).text().replace(/[^0-9.\-]/g,"");return a=parseFloat(a),isNaN(a)&&(a=0),a}},classes:{sort:{sortable:"footable-sortable",sorted:"footable-sorted",descending:"footable-sorted-desc",indicator:"footable-sort-indicator"}}};e.footable.plugins.register(new a,o)})(jQuery,window);